<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <title>星座研究</title>
    <style>
        body {
            font-family: 'Arial', sans-serif;
            background-color: #f7f7f7;
            margin: 0;
            padding: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            color: #333;
            box-sizing: border-box;
        }

        .page {
            display: none;
            background-color: #fff;
            padding: 20px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            border-radius: 8px;
            width: 100%;
            max-width: 600px;
            text-align: center;
            position: relative;
            overflow: hidden;
            box-sizing: border-box;
        }

        .active {
            display: block;
        }

        button {
            background-color: #4CAF50;
            color: white;
            padding: 10px 20px;
            margin-top: 20px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 1em;
        }

        button:hover {
            background-color: #45a049;
        }

        .quadrant-container {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            align-items: center;
            width: 100%;
            max-width: 600px;
            margin-bottom: 20px;
            height: 70vh;
        }

        .quadrant {
            background-color: #4CAF50;
            color: white;
            width: 48%;
            height: 48%;
            margin: 1%;
            display: flex;
            justify-content: center;
            align-items: center;
            cursor: pointer;
            font-size: 2em;
            border-radius: 10px;
            text-align: center;
            position: relative;
        }

        .quadrant-updated {
            /* CSS for updated quadrant, if needed */
        }

        #page5 p {
            font-size: 1.2em;
            margin: 10px 0;
        }

        #text-display {
            font-size: 1.2em;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 80vh;
            text-align: center;
        }

        #star-sign {
            color: #FF4500;
            font-size: 2.5em;
            font-weight: bold;
            display: none;
        }

        @media (max-width: 600px) {
            .page {
                padding: 10px;
            }

            #text-display p {
                font-size: 1em;
            }

            #star-sign {
                font-size: 2em;
            }
        }
    </style>
</head>
<body>
    <div>
        <!-- 封面頁 -->
        <div id="cover" class="page active">
            <h2>表象讀星系統</h2>
            <div class="quadrant-container">
                <div id="quadrant1" class="quadrant" onclick="showPage(1)">聽覺型人格</div>
                <div id="quadrant2" class="quadrant" onclick="showPage(2)">視覺型人格</div>
                <div id="quadrant3" class="quadrant" onclick="showPage(3)">感覺型人格</div>
                <div id="quadrant4" class="quadrant" onclick="showPage(4)">綜合型人格</div>
            </div>
            <button id="cover-button" onclick="showPage(5)">研究結果</button>
        </div>

        <!-- 第一頁 -->
        <div id="page1" class="page">
            <h2>聽覺型人格</h2>
            <p><strong>人格介紹</strong>:</br>習慣先用雙耳去接收世界，喜歡以耳感知，並依賴於語言資訊，善於聆聽，喜愛音樂，喜歡與人聊天，但容易被聲音騷擾，對某些聲音和詞句會特別敏感，通常能清楚表達自我的想法，且在乎細節，這類的人常用與聽覺相關的詞彙，如「聽起來」、「談論」、「聲音」、「共鳴」等。</p>
            <p><strong>特點</strong>:</br>在乎細節、注重文字、按部就班、通常較內向</p>
            <p><strong>符合星座:</br>魔羯座、雙魚座、金牛座、巨蟹座、處女座、天蠍座</strong></p>
            <button onclick="showCoverPage()">返回</button>
        </div>

        <!-- 第二頁 -->
        <div id="page2" class="page">
            <h2>視覺型人格</h2>
            <p><strong>人格介紹</strong>:</br>習慣先用雙眼去接收世界，主要用眼來與周圍世界溝通，並較依靠視覺化來記憶與做決定，善於用眼睛觀察，不容易被聲音干擾，較注重外表，說話較快，心情起伏大，善於表達情緒，但較難記住他人說話的指示，這類的他們常用與視覺相關的詞彙，如「看起來」、「觀察」、「顯示」、「透過我的眼睛」等。</p>
            <p><strong>特點</strong>:</br>節奏快、多變化、坐不穩、喜歡鮮明顏色、通常較外向</p>
            <p><strong>符合星座:</br>水瓶座、雙魚座、雙子座、巨蟹座、天秤座、天蠍座</strong></p>
            <button onclick="showCoverPage()">返回</button>
        </div>

        <!-- 第三頁 -->
        <div id="page3" class="page">
            <h2>感覺型人格</h2>
            <p><strong>人格介紹</strong>:</br>人傾向於通過動作、觸覺或情感來處理信息。他們會通過「感覺」來理解事物，這種感覺可以是身體上的或情感上的，對身體感受變化特別敏感（如舒適度、溫度），通常說話聲音較緩慢，且較為溫馴，喜歡肢體接觸，較關心內心感受，喜歡實踐學習，這類的人常用與感覺相關的詞彙，如「感覺」、「抓住」、「掌握」、「觸碰」等。</p>
            <p><strong>特點</strong>:</br>注重人與人之間的關係、喜歡被關注</p>
            <p><strong>符合星座:</br>牡羊座、金牛座、雙子座、巨蟹座、射手座</strong></p>
            <button onclick="showCoverPage()">返回</button>
        </div>

        <!-- 第四頁 -->
        <div id="page4" class="page">
            <h2>綜合型人格</h2>
            <p><strong>人格介紹</strong>:</br>綜合型人格是指一個人在不同情境下，能夠靈活地使用多種表象系統，而不僅限於一種主要的感官系統。這種人格特質的人往往具備更高的適應能力，能夠根據情況選擇最合適的感知方式來處理信息和溝通，他們傾向於同時使用多個感官來處理信息，這使得他們能夠更全面地理解和記住事物。例如，在學習新知識時，他們可能會結合閱讀、聽講和動手實踐來增強理解，這類人格在面對變化和挑戰時往往能夠更快適應。他們能夠靈活調整自己的思維和行為，以應對不同的情況和需求，並在複雜的情境中保持平衡。。</p>
            <p><strong>特點</strong>:</br>做事勤快有條理、做事有一定的執行能力，但往往忽略他人感受</p>
            <p><strong>符合星座:</br>獅子座、處女座、天秤座、天蠍座、射手座</strong></p>
            <button onclick="showCoverPage()">返回</button>
        </div>

        <!-- 第五頁 -->
        <div id="page5" class="page">
            <h2>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;預測結果&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</h2>
            <p>你會想到的是</p>
            <p id="star-sign"></p>
            <button onclick="showCoverPage()">返回</button>
        </div>
    </div>
    <script>
        let quadrantValues = {1: 1, 2: 2, 3: 4, 4: 8}; // 替换为实际值
        let timeouts = {};
        let quadrantState = {1: false, 2: false, 3: false, 4: false};
        let detectionComplete = false;

        function showPage(pageNumber) {
            // 清除所有計時器，避免計時繼續
            clearTimeouts();
            
            // 隱藏所有頁面
            var pages = document.querySelectorAll('.page');
            pages.forEach(function(page) {
                page.classList.remove('active');
            });

            // 顯示當前頁面
            document.getElementById('page' + pageNumber).classList.add('active');

            // 如果檢測已完成，不再進行任何檢測
            if (detectionComplete) return;

            // 計時並記錄超過6秒的頁面
            if (pageNumber >= 1 && pageNumber <= 4) {
                timeouts[pageNumber] = setTimeout(function() {
                    quadrantState[pageNumber] = true;
                    console.log('Page ' + pageNumber + ' exceeded 6 seconds');
                    const quadrantElement = document.getElementById('quadrant' + pageNumber);
                    if (quadrantElement) {
                        let text = quadrantElement.innerHTML;
                        // 插入空白字符到文本中間
                        let midpoint = Math.floor(text.length / 2);
                        let updatedText = text.slice(0, midpoint) + '&#8202;' + text.slice(midpoint);
                        quadrantElement.innerHTML = updatedText;
                        quadrantElement.classList.add('quadrant-updated');
                    }
                }, 6000); // 6秒
            }

            // 如果是第五頁，根據已選中的頁面計算星座
            if (pageNumber === 5) {
                detectionComplete = true; // 停止檢測
                let signs = [
                    "魔羯座", "水瓶座", "雙魚座", "牡羊座", 
                    "金牛座", "雙子座", "巨蟹座", "獅子座", 
                    "處女座", "天秤座", "天蠍座", "射手座"
                ];

                let totalSum = Object.keys(quadrantState).reduce((sum, key) => {
                    return quadrantState[key] ? sum + quadrantValues[key] : sum;
                }, 0);

                console.log('Total sum:', totalSum); // Debugging output

                // 計算索引。確保 index 為 1-12 範圍內的數字
                let index = totalSum % 12 || 12;
                console.log('Index:', index); // Debugging output

                let starSign = signs[index - 1];

                document.getElementById('star-sign').innerHTML = starSign;
                document.getElementById('star-sign').style.display = 'block';
            }
        }

        function showCoverPage() {
            // 清除所有計時器
            clearTimeouts();
            
            // 重置 quadrantState
            quadrantState = {1: false, 2: false, 3: false, 4: false};

            // 顯示封面頁
            document.getElementById('cover').classList.add('active');

            // 隱藏所有其他頁面
            var pages = document.querySelectorAll('.page');
            pages.forEach(function(page) {
                if (page.id !== 'cover') {
                    page.classList.remove('active');
                }
            });
        }

        function clearTimeouts() {
            for (let key in timeouts) {
                if (timeouts[key]) {
                    clearTimeout(timeouts[key]);
                    timeouts[key] = null;
                }
            }
        }
    </script>
</body>
</html>
